= Mech =
 * --(Leitungs-Einlaß für Sensor auf Gehäuseunterseite verlegen)--
 * --(Zugang zum Wifi-Manager-Jumper auf Gehäuse Unterseite schaffen)--
 * --(Alternative Deckelmontage ohne Magnete? (Ggf 2 x M3 ins Holz))--
 * Schild (Sensorname, Topic, IP, Batteriewechseldatum)

= Elektro =
 * Stromverbrauch Messen bei 0.4
 * Platinenvariante (bzw. Rework-Anleitung) für Betrieb ohne Attiny machen - ESP hält sich Vcc über MOSFET selber

= Software =
== Attiny ==
 * --(Interrupt Glitch abstellen)-- Waren tatsächlich mal wieder zu wenig Angstkondensatoren. Lösung: 100 nF Kerko an Reset + 10 µF Kerko an Vcc. Problem war dersteigende Innenwiderstand der Zellen bei sinkendem Ladestand. Bizarrer weise trat das Problem primär nach längerer Ruhezeit genau EIN MAL auf, die nächsten Starts klappten dann einwandfrei. Akkuchemie?!?
 * Alle unnötinen Peripherials auf dem Chip abschalten [[https://playground.arduino.cc/Learning/ArduinoSleepCode|1]] [[http://www.arduino-hausautomation.de/2014/emils-ampel-attiny45-im-tiefschlaf/|2]] [[https://learn.sparkfun.com/tutorials/reducing-arduino-power-consumption|3]]
  * Brown Out Detection ausmachen (ist default Fuse setting)
  * ADC aus
  * Timer aus
  *

== ESP ==
 * Codevariante für Betrieb ohne Attiny machen - ESP hält sich Vcc über MOSFET selber
 * Prüfen, welchen Unterschied die interne Vcc Messung im ESP mit und ohne Radio macht
 * MQTT Client bauen, der Topics abonnieren kann, und die Inhalte auf WS2811 LED String anzeigt (für Display an der Tür)

== GetränkeKistenStatistik - Mikrocontroller-Mess-Software (drinks-storage-state) ==
 * WebGUI
  * ESP ID [r]
  * Netzwerk-SSID, Passwort [rw]
  * MQTT host [rw]

== GetränkeKistenStatistik - Messwert-KistenAnzahl-Konvertierung (drinks-storage-mqtt) ==
 * Nur Nachricht in MQTT posten, wenn crate_count sich geändert hat
 * kg-Werte für Mess-Ergebnisse zusätzlich zu crate_count auch veröffentlichen
 * Fehler ausgeben wenn Messwert nicht innerhalb x * Kistengewicht ± Toleranz
 * Fehler-Ausgabe (auch) als Email o.ä.? (aktuell nur Kommandozeilen-Ausgabe)
