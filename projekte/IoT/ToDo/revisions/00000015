= Mech =
 * --(Leitungs-Einlaß für Sensor auf Gehäuseunterseite verlegen)--
 * --(Zugang zum Wifi-Manager-Jumper auf Gehäuse Unterseite schaffen)--
 * --(Alternative Deckelmontage ohne Magnete? (Ggf 2 x M3 ins Holz))--
 * Schild (Sensorname, Topic, IP, Batteriewechseldatum)

= Elektro =
 * Stromverbrauch Messen bei 0.4
 * Platinenvariante (bzw. Rework-Anleitung) für Betrieb ohne Attiny machen - ESP hält sich Vcc über MOSFET selber

= Software =
 * Modul, das Fehlermeldungen der anderen MQTT-Teilnehmer abfängt und in IRC postet / irgendwem als Email schickt
  * Niedriger Batteriestand '''(must)'''
  * Schlechte Feldstärke / häufige Abrüche (nice to have)
  * Ausbleiben zyklischer I'm alive Meldungen kritischer MQTT-Teilnehmer (für Knoten, die dauernd online sind / sein müssen, dazu sinnvoll: Topic nur für diese Meldungen)
 * Modul, das die Meldungen kritischer MQTT-Teilnehmer auswertet und auf dem Leuchtmelder-Tableau an der Ausgangstür anzeigt (Also Dachluken, Fenster, Raum4, etc.) '''(must)'''
  * Lesen kritischer MQTT-Teilnehmer-Topics
  * Lesen des Space Status
  * Wenn Space Status von offen -> geschlossen wechselt, und kritische Nodes noch offene Türen etc. melden, lauter Alarm über $Gerät (Leuchtmelder-Tableau) '''(must)'''
 * Modul, das Verknüpfungen realisieren kann
  * Klingelknopf außen bewirkt Türöffnung wenn Spacestatus = offen (nice to have)
  * Sensor Klopapier alle bewirkt Bestellung bei Amazon (cherz) ... Aber Eintrag in eine Einkaufsliste?! (nice to have)
 * Modul, das Steuerung von Aktoren im IoD Netz von außen sicher realisiert. Aktoren:
  * Heizung
 * Modul, das Daten aus dem MQTT Netz nach Grafana liefert. Was soll aufgezeichnet werden? ([[http://github.com/freifunkks/salt-conf/blob/master/state/graphite/fd-spacestats.py#L44-L92|Liste]])

== Attiny ==
 * --(Interrupt Glitch abstellen)-- Waren tatsächlich mal wieder zu wenig Angstkondensatoren.
 * --(Alle unnötinen Peripherials auf dem Chip abschalten)-- [[https://playground.arduino.cc/Learning/ArduinoSleepCode|1]] [[http://www.arduino-hausautomation.de/2014/emils-ampel-attiny45-im-tiefschlaf/|2]] [[https://learn.sparkfun.com/tutorials/reducing-arduino-power-consumption|3]]Strombedarf entspricht jetzt den Specs aus dem Datasheet.

== ESP ==
 * Codevariante für Betrieb ohne Attiny machen - ESP hält sich Vcc über MOSFET selber
 * Prüfen, welchen Unterschied die interne Vcc Messung im ESP mit und ohne Radio macht
 * --(MQTT Client bauen, der Topics abonnieren kann, und die Inhalte auf WS2811 LED String anzeigt (für Display an der Tür) )--

== GetränkeKistenStatistik - Mikrocontroller-Mess-Software (drinks-storage-state) ==
 * WebGUI
  * ESP ID [r]
  * Netzwerk-SSID, Passwort [rw]
  * MQTT host [rw]

== GetränkeKistenStatistik - Messwert-KistenAnzahl-Konvertierung (drinks-storage-mqtt) ==
 * Nur Nachricht in MQTT posten, wenn crate_count sich geändert hat
 * crate_count per Getränke-Art zählen, nicht per Stapel
 * kg-Werte für Mess-Ergebnisse zusätzlich zu crate_count auch veröffentlichen
 * Fehler ausgeben wenn Messwert nicht innerhalb x * Kistengewicht ± Toleranz
 * Fehler in MQTT-Topic 'errors' o.ä. publishen (aktuell nur Kommandozeilen-Ausgabe)
