== Idee ==

Es soll mithilfe eines Barcode Scanners gezählt werden, wer wie viele Getränke getrunken hat, sodass man leichter entscheiden kann, wie viel man dem Verein spendet und wann neue Getränke besorgt werden müssen!

== Team ==

 * Wer ist dabei / Wer übernimmt welche Rolle?
  * DoB - Koordination
  * Niklas - Datenbank/Modellierung, Externe Schnittstellen (später)
  * Sören  - Ansteuerung Display ( http://www.raspberrypi-spy.co.uk/wp-content/uploads/2012/07/16x2_lcd_module.jpg )
  * Eike   - Elektronik
   * http://www.raspberrypi-spy.co.uk/2012/07/16x2-lcd-module-control-using-python
  * Anselm - Core-Logik
  * Jonas  - Core-Logik
  * kssoz  - Testing, Installation

== Features ==
=== Bezahlsystem ===
Spenden per Karte soll nur ermöglicht werden und nicht erzwungen. Das manuelle Spendensystem wird nicht dadurch ersetzt, nur ergänzt.
==== Verkauf ====
   * Schritt 1: Prepaid Karte scannen
    * Das noch verfügbare Guthaben wird angezeigt ''(wo?)''
   * Schritt 2: Flasche scannen
    * Man sieht wie viel Guthaben jetzt noch verfügbar ist ''(wo?)''
   * Schritt 3: Ausloggen
     * Nach dem Scannen einer Flasche, wird man wieder "ausgeloggt" und ein Klebe-Etikett mit User-ID etc. wird ausgedruckt.
     * Tages-Anzahl ausgegebener Flaschen wird um eins erhöht und auf dem Flipdot Display dargestellt
     * Zum Erwerb weiterer Flaschen -> Schritt 1
   * Schritt 4: Ausbleibende Flaschenentnahme
     * Wenn bereits eine Prepaid Karte gescannt wurde und als nächstes, statt einer Flasche, eine andere Prepaid Karte gescannt wird, kann im nächsten Schritt ein Getränk auf die zuletzt gescannte Karte gekauft werden

==== Einkauf ====
Nach dem Einkauf müssen die neuen Kisten in den Bestand eingebucht werden.
   * Schritt 1: Zuerst muss man eine "Kisten-Karte" scannen z.B. für 1, 6, 12, 16 oder 20 Flaschen
   * Schritt 2: Danach eine Flasche der Sorte scannen, von der eine Kiste hinzugekommen ist
   * Schritt 3: Der Bestand wird in der Datenbank aktualisiert und auf dem Flipdot Display angezeigt

=== Neue Feature Ideen ===
  * Scanpiep ersetzen durch Schraubverschluss Geräusch (Zischhhh)
  * NFC Bezahl Methode
  * Nach Scan wird ein selbstklebendes Etikett ausgedruckt zum Flasche markieren (User ID, Datum, Glückskeksspruch ...)
  * Auf Flipdot Display werden gescannte Getränke gezählt (beta: nur 3 stellig, später mehr Infos wie Getränketyp)
  * Datenbank schlägt Alarm, wenn kritische Lagerbestände unterschritten werden (-> Getränke-Einkauf)
  * Statistiken über Getränke :D
  * Zusätzlich gibt es einen Hardware Knopf mit dem ich alle Aktionen abbrechen kann und wieder zurück in den Initialzustand wechseln kann
  * Datenbank läuft mit auf dem PI, Daten bleiben im Space

== Zeitplan ==

    1. Termin: 02.07.2015 18:00 Uhr
        Technologie entscheiden
        Setup Raspberry PI
        Ausgabe Barcode auf Anzeige (HDMI-Bildschirm)
    2. Termin: 09.07.2015 18:00 Uhr
        Barcode-Format spezifizieren
        Hintergrundbeleuchtung, Kontrast einstellen
    3. Termin: 16.07.2015 18:00 Uhr
        SQL Datenbank modellieren
    4. Termin: 27.04.2016
        Case fertigbauen und im Space installieren
        RasPi bestellen
    5. Termin: 28.04.2016
        Raspi anschliessen und einrichten
        Barcodes in Datenbank speichern und zählen
    6. Termin 29.04.2016
        Flipdot Display ansteuern
        low-res font implementieren
        Testing (Hacked) ^^

== Details ==

=== Spezifikation für den Barcode ===
{{{
23Z YYYY YYYXX C

enum Z
{
	Steuerkarte = 0,
	Guthabenkarte = 1
}

X - Steuerkarte:
		Anzahl an Elementen/Flaschen
	Guthabenkarte:
		Ursprünglicher Betrag

Y - Steuerkarte:
		0
	Guthabenkarte:
		Random

C - EAN-Checksum
}}}
Der Barcode startet mit 23, um mit dem EAN-13-Standard kompatibel zu sein (20-29 für In-Store-Functions). Vgl: http://www.barcodeisland.com/ean13.phtml

=== Datenbank ===

{{http://i.imgur.com/QJvq4nW.png}}


=== Hack ===

Getränkezähler mit Flipdotdisplay verbunden und schöne Invaders lowres-font implementiert.

"Wir kommen doch nicht über 999 Getränke pro Tag oder?" 
-> Getränkezähler geDoSt: Makita, Deutschlandflagge, Krepklebeband, Bier-Etikett, Mate-Ettiket ^^

{{attachment:IMG_20160429_190628.jpg}}
{{attachment:IMG_20160429_190844.jpg}}
{{attachment:VID_20160429_190711.mp4}}
{{attachment:VID_20160429_190901.mp4}}
[[attachment:VID_20160429_190711.mp4]]
[[attachment:VID_20160429_190901.mp4]]
